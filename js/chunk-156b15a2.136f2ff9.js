(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-156b15a2"],{"3e89":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"evaluation"},[t._m(0),s("div",{staticClass:"evaluate-main"},t._l(t.goods,(function(e,a){return s("div",{key:a,staticClass:"content clearfix"},[s("div",{staticClass:"fl item-left"},[s("div",{staticClass:"item-img"},[s("img",{attrs:{src:e.goodsImageBig,alt:"商品图片"}})])]),s("div",{staticClass:"fl item-right",attrs:{model:e.goodsId}},[s("h3",{staticClass:"item-name"},[t._v(t._s(e.goodsName))]),s("el-rate",{staticStyle:{margin:"20px 0"},attrs:{"show-text":"",texts:t.scoreText},model:{value:e.score,callback:function(s){t.$set(e,"score",s)},expression:"item.score"}}),s("p",[t._v("您还没有填写评价内容")]),s("el-input",{staticClass:"item-text",attrs:{type:"textarea",rows:4,placeholder:"写写你的感受吧，一不小心就成了评论高手。",maxlength:"500","show-word-limit":""},model:{value:e.content,callback:function(s){t.$set(e,"content",s)},expression:"item.content"}}),s("el-upload",{attrs:{action:t.uploadUrl,headers:t.getAuthHeaders(),"list-type":"picture-card","on-remove":t.handleRemove.bind(null,{index:a,data:e}),"on-success":t.handleAvatarSuccess.bind(null,{index:a})}},[s("i",{staticClass:"el-icon-camera"})])],1)])})),0),s("div",{staticClass:"evaluate-operate"},[s("el-button",{attrs:{type:"primary"},on:{click:t.publish}},[t._v("发表")]),s("el-checkbox",{staticClass:"operate-checkbox",model:{value:t.isAnonymous,callback:function(s){t.isAnonymous=s},expression:"isAnonymous"}},[t._v("匿名评价")])],1)])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"evaluate-hd"},[s("h2",{staticClass:"hd-title"},[t._v("评价")]),s("p",{staticClass:"hd-txt"},[t._v("快乐的你分享完美的使用心得~")])])}],o=(e("14d9"),{props:{id:{}},data(){return{goods:[],isAnonymous:!1,scoreText:["很差","差","一般","好","很好"],dialogImageUrl:"",dialogVisible:!1,model:{score:null,content:"",contentImg:[]}}},created(){this.fetch()},methods:{async publish(){const t={comment:this.goods,isAnonymous:this.isAnonymous,orderId:this.id},s=await this.$http.post("/comment",t);s&&(this.$message({type:"success",message:"评论成功"}),this.$router.push("/personalCenter/orderList"))},handleRemove(t,s){this.goods[t.index].contentImg.forEach((e,a)=>{e==s.response.url&&this.goods[t.index].contentImg.splice(a,1)})},handleAvatarSuccess(t,s){this.goods[t.index].contentImg.push(s.url)},async fetch(){var t;const s=await this.$http.get("/order/"+this.id);this.goods=((null===(t=s.data)||void 0===t?void 0:t.goods)||[]).map((t,s)=>{let e=JSON.parse(JSON.stringify(this.model));return{...t,...e}})}}}),n=o,c=(e("4ab8"),e("2877")),l=Object(c["a"])(n,a,i,!1,null,"1026760d",null);s["default"]=l.exports},"4ab8":function(t,s,e){"use strict";e("d5ec")},d5ec:function(t,s,e){}}]);
//# sourceMappingURL=chunk-156b15a2.136f2ff9.js.map